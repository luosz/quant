(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     10883,        310]
NotebookOptionsPosition[     10193,        281]
NotebookOutlinePosition[     10539,        296]
CellTagsIndexPosition[     10496,        293]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"std", "[", 
   RowBox[{"symbol_", ",", 
    RowBox[{"bet_:", "70"}], ",", 
    RowBox[{"days_:", "7"}]}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"a", ",", "t", ",", "l", ",", "n", ",", "d", ",", "num"}], "}"}],
     ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"a", "=", 
      RowBox[{"Mean", "[", 
       RowBox[{"FinancialData", "[", 
        RowBox[{"symbol", ",", "\"\<Range\>\""}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"t", "=", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"DateList", "[", 
          RowBox[{"DayRound", "[", 
           RowBox[{
            RowBox[{"Today", "-", 
             RowBox[{"Quantity", "[", 
              RowBox[{"days", ",", "\"\<Days\>\""}], "]"}]}], ",", 
            "\"\<BusinessDay\>\"", ",", "\"\<Next\>\""}], "]"}], "]"}], ",", 
         RowBox[{"DateList", "[", 
          RowBox[{"DayRound", "[", 
           RowBox[{
           "Today", ",", "\"\<BusinessDay\>\"", ",", "\"\<Previous\>\""}], 
           "]"}], "]"}]}], "}"}], "//", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Take", "[", 
           RowBox[{"#", ",", "3"}], "]"}], "&"}], "/@", "#"}], "&"}]}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"l", "=", 
      RowBox[{"Last", "[", 
       RowBox[{"Transpose", "[", 
        RowBox[{"FinancialData", "[", 
         RowBox[{"symbol", ",", "t"}], "]"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"n", "=", 
      RowBox[{"Length", "[", "l", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"d", "=", 
      RowBox[{
       RowBox[{"Sqrt", "[", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"n", "-", "1"}], ")"}], "/", "n"}], "]"}], "*", 
       RowBox[{"StandardDeviation", "[", "l", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"num", "=", 
      RowBox[{"IntegerPart", "[", 
       RowBox[{"bet", "/", "d"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"d", ",", 
         RowBox[{"d", "/", "a"}], ",", 
         RowBox[{"num", "*", "a"}]}], "}"}], ",", 
       RowBox[{"Style", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"num", ",", "a"}], "}"}], ",", "Bold", ",", "Larger", ",", 
         RowBox[{"Background", "->", "LightBlue"}]}], "]"}], ",", 
       RowBox[{"Style", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"a", "-", "d"}], ",", 
           RowBox[{"a", "+", "d"}]}], "}"}], ",", "Bold", ",", "Larger", ",", 
         RowBox[{"Background", "->", "LightBlue"}]}], "]"}], ",", "t", ",", 
       "l"}], "}"}]}]}], "]"}]}]], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGCQBGIQnTnt/4LJoq8dzywtXAii75RX2k8B0iwOfWA6wmWn
D4g2f7ofTOs1CoSA6IW65yJAdNbe5DiweE0tmL61sLsFRCd2my0B0dO/rV0B
ojUsju8E0UGa8QdA9FOlTSdA9A+je1dAdMxv++sges3cxvsgmu0L22MQrdV3
9RmIZvc5+ApEy8n4l04D0oFzYsG0ir5cyS4gLcI5G0zXsH++CqKdLI+8BtFy
F+/+B9FrBFV5dwPpPTtDXEH0A8ssML192/ogEH1dwDwURK9tW5kAol26mZNA
tNrHnl4Q/aKBaRKIviR/fy6I/reaeRGIZt9YuRZEd29cAaaj7LdtBNFlB/g3
gej4mVF7QbSV7dxjINrCb+FpEG372uwK2Pz5j56C6Mblni9ANAAAR8Wj
  "]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"std", "[", "\"\<dwti\>\"", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "6.428490958226509`", ",", "0.04585719555035495`", ",", "1401.85`"}], 
    "}"}], ",", 
   StyleBox[
    RowBox[{"{", 
     RowBox[{"10", ",", "140.185`"}], "}"}],
    StripOnInput->False,
    FontSize->Larger,
    FontWeight->Bold,
    Background->RGBColor[0.87, 0.94, 1]], ",", 
   StyleBox[
    RowBox[{"{", 
     RowBox[{"133.75650904177348`", ",", "146.61349095822652`"}], "}"}],
    StripOnInput->False,
    FontSize->Larger,
    FontWeight->Bold,
    Background->RGBColor[0.87, 0.94, 1]], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "6"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "13"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "112.51`", ",", "110.12`", ",", "118.52`", ",", "120.8`", ",", 
     "128.31`"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.6352718077965107`*^9, 3.635271825558359*^9}, 
   3.6352719127555285`*^9, {3.635272239163499*^9, 3.635272251586017*^9}, {
   3.635272331265232*^9, 3.635272377877862*^9}, {3.6352724559853125`*^9, 
   3.635272466704618*^9}, 3.635272587833287*^9, {3.635272823954142*^9, 
   3.635272851485509*^9}, {3.6352729546374173`*^9, 3.6352730057061653`*^9}, {
   3.635273051192591*^9, 3.635273071974921*^9}, 3.6352731078205233`*^9, {
   3.6352732101314297`*^9, 3.6352732721013556`*^9}, 3.6352733323388505`*^9, {
   3.635273364512388*^9, 3.6352734111857176`*^9}, {3.6352735420049887`*^9, 
   3.6352735746941805`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"std", "[", "\"\<euo\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.635270443066256*^9, 3.6352704433394384`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "0.6335803027241302`", ",", "0.02239591031191694`", ",", "3111.9`"}], 
    "}"}], ",", 
   StyleBox[
    RowBox[{"{", 
     RowBox[{"110", ",", "28.29`"}], "}"}],
    StripOnInput->False,
    FontSize->Larger,
    FontWeight->Bold,
    Background->RGBColor[0.87, 0.94, 1]], ",", 
   StyleBox[
    RowBox[{"{", 
     RowBox[{"27.65641969727587`", ",", "28.92358030272413`"}], "}"}],
    StripOnInput->False,
    FontSize->Larger,
    FontWeight->Bold,
    Background->RGBColor[0.87, 0.94, 1]], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "6"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "13"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "26.63`", ",", "26.59`", ",", "27.38`", ",", "28.21`", ",", "27.77`"}], 
    "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.635271808343876*^9, 3.635271826142748*^9}, 
   3.6352719163359165`*^9, {3.6352722397104025`*^9, 3.635272252132921*^9}, {
   3.635272331828607*^9, 3.6352723784091387`*^9}, {3.635272456500965*^9, 
   3.635272467235895*^9}, 3.63527258840867*^9, 3.635272855037879*^9, {
   3.6352729551867847`*^9, 3.635273006268693*^9}, {3.6352730548177795`*^9, 
   3.635273072521822*^9}, 3.635273108414303*^9, {3.6352732106978073`*^9, 
   3.635273272648261*^9}, 3.6352733328857546`*^9, {3.6352733650436687`*^9, 
   3.6352734117482457`*^9}, {3.6352735425362663`*^9, 3.6352735782881145`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"std", "[", "\"\<tqqq\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.6352714640439076`*^9, 3.6352714691613207`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "3.0741724089582236`", ",", "0.030131559999590527`", ",", "2244.55`"}], 
    "}"}], ",", 
   StyleBox[
    RowBox[{"{", 
     RowBox[{"22", ",", "102.025`"}], "}"}],
    StripOnInput->False,
    FontSize->Larger,
    FontWeight->Bold,
    Background->RGBColor[0.87, 0.94, 1]], ",", 
   StyleBox[
    RowBox[{"{", 
     RowBox[{"98.95082759104179`", ",", "105.09917240895822`"}], "}"}],
    StripOnInput->False,
    FontSize->Larger,
    FontWeight->Bold,
    Background->RGBColor[0.87, 0.94, 1]], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "6"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "13"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "108.05`", ",", "109.09`", ",", "103.05`", ",", "101.24`", ",", 
     "103.18`"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.635271808914257*^9, 3.6352718269442825`*^9}, 
   3.6352719199653387`*^9, {3.635272240226053*^9, 3.63527225269545*^9}, {
   3.6352723323929844`*^9, 3.6352723790966754`*^9}, {3.6352724570791197`*^9, 
   3.6352724677827983`*^9}, 3.635272588977052*^9, 3.635272855604257*^9, {
   3.6352729562034636`*^9, 3.6352729809459686`*^9}, 3.6352730135346937`*^9, {
   3.6352730584273405`*^9, 3.63527307610013*^9}, 3.6352731120707417`*^9, {
   3.6352732143112183`*^9, 3.635273273570182*^9}, 3.6352733364796896`*^9, {
   3.635273368590727*^9, 3.635273415342182*^9}, {3.635273543083169*^9, 
   3.635273578846467*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["Now"], "Input",
 CellChangeTimes->{{3.6351943722212906`*^9, 3.635194372591538*^9}}],

Cell[BoxData[
 TemplateBox[{
  RowBox[{"\"Fri 13 Mar 2015 22:12:58\""}],RowBox[{"DateObject", "[", 
     RowBox[{
       RowBox[{"{", 
         RowBox[{"2015", ",", "3", ",", "13"}], "}"}], ",", 
       RowBox[{"TimeObject", "[", 
         RowBox[{"{", 
           RowBox[{"22", ",", "12", ",", "58.8620939`"}], "}"}], "]"}]}], 
     "]"}]},
  "DateObject",
  Editable->False]], "Output",
 CellChangeTimes->{
  3.6351943736472516`*^9, 3.635196344622712*^9, 3.635196851847638*^9, 
   3.6352705291320343`*^9, {3.635270569002633*^9, 3.6352705784639435`*^9}, 
   3.6352709791618233`*^9, 3.635271303187871*^9, {3.635271349236431*^9, 
   3.6352715217604094`*^9}, {3.6352716746168947`*^9, 3.635271826976306*^9}, 
   3.635271919989356*^9, {3.6352722402416797`*^9, 3.63527225269545*^9}, {
   3.6352723324190035`*^9, 3.6352723790966754`*^9}, {3.6352724570791197`*^9, 
   3.6352724677827983`*^9}, 3.6352725889860573`*^9, 3.635272855611261*^9, {
   3.635272956227479*^9, 3.635272980954974*^9}, 3.6352730135659475`*^9, {
   3.6352730584585943`*^9, 3.6352730761313815`*^9}, 3.6352731121019955`*^9, {
   3.635273214344239*^9, 3.635273273570182*^9}, 3.635273336510941*^9, {
   3.635273368621977*^9, 3.63527341538906*^9}, {3.635273543098794*^9, 
   3.635273578862094*^9}}]
}, Open  ]]
},
WindowSize->{1288, 714},
WindowMargins->{{-9, Automatic}, {Automatic, -9}},
FrontEndVersion->"10.0 for Microsoft Windows (64-bit) (December 4, 2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 3218, 85, 192, "Input"],
Cell[CellGroupData[{
Cell[3801, 109, 67, 1, 31, "Input"],
Cell[3871, 112, 1534, 39, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5442, 156, 134, 2, 31, "Input"],
Cell[5579, 160, 1495, 38, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7111, 203, 137, 2, 31, "Input"],
Cell[7251, 207, 1534, 39, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8822, 251, 97, 1, 31, "Input"],
Cell[8922, 254, 1255, 24, 41, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
