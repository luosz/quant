(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      7888,        238]
NotebookOptionsPosition[      7201,        209]
NotebookOutlinePosition[      7547,        224]
CellTagsIndexPosition[      7504,        221]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"std", "[", 
   RowBox[{"symbol_", ",", 
    RowBox[{"bet_:", "50"}], ",", 
    RowBox[{"days_:", "7"}]}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"a", ",", "t", ",", "l", ",", "n", ",", "d", ",", "num"}], "}"}],
     ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"a", "=", 
      RowBox[{"Mean", "[", 
       RowBox[{"FinancialData", "[", 
        RowBox[{"symbol", ",", "\"\<Range\>\""}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"t", "=", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"DateList", "[", 
          RowBox[{"DayRound", "[", 
           RowBox[{
            RowBox[{"Today", "-", 
             RowBox[{"Quantity", "[", 
              RowBox[{"days", ",", "\"\<Days\>\""}], "]"}]}], ",", 
            "\"\<BusinessDay\>\"", ",", "\"\<Next\>\""}], "]"}], "]"}], ",", 
         RowBox[{"DateList", "[", 
          RowBox[{"DayRound", "[", 
           RowBox[{
           "Today", ",", "\"\<BusinessDay\>\"", ",", "\"\<Previous\>\""}], 
           "]"}], "]"}]}], "}"}], "//", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Take", "[", 
           RowBox[{"#", ",", "3"}], "]"}], "&"}], "/@", "#"}], "&"}]}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"l", "=", 
      RowBox[{"Last", "[", 
       RowBox[{"Transpose", "[", 
        RowBox[{"FinancialData", "[", 
         RowBox[{"symbol", ",", "t"}], "]"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"n", "=", 
      RowBox[{"Length", "[", "l", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"d", "=", 
      RowBox[{
       RowBox[{"Sqrt", "[", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"n", "-", "1"}], ")"}], "/", "n"}], "]"}], "*", 
       RowBox[{"StandardDeviation", "[", "l", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"num", "=", 
      RowBox[{"IntegerPart", "[", 
       RowBox[{"bet", "/", "d"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"d", ",", 
         RowBox[{"d", "/", "a"}], ",", 
         RowBox[{"num", "*", "a"}]}], "}"}], ",", 
       RowBox[{"IntegerPart", "[", "num", "]"}], ",", "a", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"a", "-", "d"}], ",", 
         RowBox[{"a", "+", "d"}]}], "}"}], ",", "t", ",", "l"}], "}"}]}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.6351910479871106`*^9, 3.635191051551489*^9}, {
  3.6351923157958813`*^9, 3.6351923164453144`*^9}, {3.6351924217895927`*^9, 
  3.6351924219967303`*^9}, {3.635192480515769*^9, 3.63519251844307*^9}, {
  3.635192563116872*^9, 3.6351925639214087`*^9}, {3.6351928683635073`*^9, 
  3.635193121704514*^9}, {3.6351931574363513`*^9, 3.635193294225605*^9}, {
  3.635193346973794*^9, 3.6351934135667596`*^9}, {3.635193510943722*^9, 
  3.6351935299994335`*^9}, {3.635193596050497*^9, 3.635193624217288*^9}, {
  3.635193654673604*^9, 3.6351936860405307`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"std", "[", "\"\<dwti\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.635191066754631*^9, 3.635191080920081*^9}, {
  3.635192017857124*^9, 3.635192021501555*^9}, {3.6351921436480393`*^9, 
  3.635192149323827*^9}, {3.6351923213776054`*^9, 3.6351923215577254`*^9}, {
  3.6351933091735764`*^9, 3.635193319834689*^9}, {3.6351935138486595`*^9, 
  3.6351935246738806`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "4.332847649064061`", ",", "0.03452468246266184`", ",", "1380.5`"}], 
    "}"}], ",", "11", ",", "125.5`", ",", 
   RowBox[{"{", 
    RowBox[{"121.16715235093594`", ",", "129.83284764906406`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "6"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "13"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"112.51`", ",", "110.12`", ",", "118.52`", ",", "120.8`"}], 
    "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.635191085660242*^9, 3.6351920232547255`*^9, {3.635192145501276*^9, 
   3.6351921502754607`*^9}, 3.6351923230787425`*^9, {3.635193303508797*^9, 
   3.635193320749298*^9}, 3.6351934219993863`*^9, {3.6351935150634713`*^9, 
   3.635193549113184*^9}, {3.6351935873326826`*^9, 3.635193661747325*^9}, 
   3.635193692079559*^9, 3.635193798145319*^9, 3.6351941622131925`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"std", "[", "\"\<indl\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.6351938876100006`*^9, 3.6351938929265475`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "1.8065021450305552`", ",", "0.017833189980558294`", ",", "2735.1`"}], 
    "}"}], ",", "27", ",", "101.3`", ",", 
   RowBox[{"{", 
    RowBox[{"99.49349785496945`", ",", "103.10650214503055`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "6"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "13"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"99.1`", ",", "96.97`", ",", "94.02`", ",", "96.47`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.6351938945506306`*^9, 3.6351941627635584`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"std", "[", "\"\<drn\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.6351942847239213`*^9, 3.635194289748272*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "0.7547309123124601`", ",", "0.009464303872499344`", ",", "5263.17`"}], 
    "}"}], ",", "66", ",", "79.745`", ",", 
   RowBox[{"{", 
    RowBox[{"78.99026908768755`", ",", "80.49973091231246`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "6"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2015", ",", "3", ",", "13"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"75.37`", ",", "77.19`", ",", "77.01`", ",", "77.12`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.6351942911191854`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["Now"], "Input",
 CellChangeTimes->{{3.6351943722212906`*^9, 3.635194372591538*^9}}],

Cell[BoxData[
 TemplateBox[{
  RowBox[{"\"Fri 13 Mar 2015 00:12:53\""}],RowBox[{"DateObject", "[", 
     RowBox[{
       RowBox[{"{", 
         RowBox[{"2015", ",", "3", ",", "13"}], "}"}], ",", 
       RowBox[{"TimeObject", "[", 
         RowBox[{"{", 
           RowBox[{"0", ",", "12", ",", "53.6262277`"}], "}"}], "]"}]}], 
     "]"}]},
  "DateObject",
  Editable->False]], "Output",
 CellChangeTimes->{3.6351943736472516`*^9}]
}, Open  ]]
},
WindowSize->{1288, 714},
WindowMargins->{{-9, Automatic}, {Automatic, -9}},
FrontEndVersion->"10.0 for Microsoft Windows (64-bit) (December 4, 2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 3016, 77, 192, "Input"],
Cell[CellGroupData[{
Cell[3599, 101, 387, 6, 31, "Input"],
Cell[3989, 109, 985, 23, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5011, 137, 137, 2, 31, "Input"],
Cell[5151, 141, 657, 18, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5845, 164, 134, 2, 31, "Input"],
Cell[5982, 168, 635, 18, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6654, 191, 97, 1, 31, "Input"],
Cell[6754, 194, 431, 12, 41, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
